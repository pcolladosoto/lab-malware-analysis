; Test programme for assembler arrays
; nasm -g -I libasm_io-master/include -f elf64 strings1.asm
; gcc -g strings1.o -lasm_io -o strings1

%include "/home/malware/asm/joey_lib_io_v6_release.asm"

global main

section .data
	
	echo_welcome: db	"Hello, this is a long message",0
	len	equ	$ - echo_welcome
	echo_message: db "It is this many characters :",0
	echo_bye:	db	"Goodbye!",0
	

		
section .text
	
	main:
		push rbp
		mov rbp, rsp
		sub rsp,32
		
		mov rdi, QWORD echo_welcome
		call print_string_new
		call print_nl_new
	
		mov rdi, QWORD echo_message
		call print_string_new
		mov rdi, len
		dec rdi
		call print_uint_new
		call print_nl_new
		
		mov rdi, QWORD echo_bye
		call print_string_new
		call print_nl_new
		
		add rsp, 32
		
		pop rbp
		
		ret
		
